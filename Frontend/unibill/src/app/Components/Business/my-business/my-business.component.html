<div class="container mt-4">
  <div *ngIf="!isProcessing; else spinner">
    <div *ngIf="hasBusiness; else hasNoBusiness">
      <h2 class="text-center mb-4">My Business</h2>

      <!-- User Details -->
      <div class="mb-4">
        <h4 class="mb-3">User Details</h4>
        <hr />
        <div class="row">
          <div class="col-md-4 mb-2">
            <strong>User ID:</strong> {{ myBusiness?.user?.userId }}
          </div>
          <div class="col-md-4 mb-2">
            <strong>Email:</strong> {{ myBusiness?.user?.email }}
          </div>
          <div class="col-md-4 mb-2">
            <strong>Phone Number:</strong> {{ myBusiness?.phone }}
          </div>
        </div>
      </div>

      <!-- Business Details -->
      <div class="mb-4">
        <h4 class="mb-3">Business Details</h4>
        <hr />
        <div class="row">
          <div class="col-md-4 mb-2">
            <strong>Business ID:</strong> {{ myBusiness?.businessId }}
          </div>
          <div class="col-md-4 mb-2">
            <strong>Business Name:</strong> {{ myBusiness?.businessName }}
          </div>
          <div class="col-md-4 mb-2">
            <strong>Business Type:</strong>
            {{ myBusiness?.businessType?.businessTypeName }}
          </div>
        </div>
      </div>

      <!-- Business Address (Split View) -->
      <div class="mb-4">
        <h4 class="mb-3">Address Details</h4>
        <hr />
        <div class="row">
          <div class="col-md-6 mb-2">
            <strong>Shop No:</strong> {{ myBusiness?.address?.shopNo }}
          </div>
          <div class="col-md-6 mb-2">
            <strong>Area:</strong> {{ myBusiness?.address?.area }}
          </div>
          <div class="col-md-6 mb-2">
            <strong>Road:</strong> {{ myBusiness?.address?.road || "—" }}
          </div>
          <div class="col-md-6 mb-2">
            <strong>Landmark:</strong>
            {{ myBusiness?.address?.landmark || "—" }}
          </div>
          <div class="col-md-6 mb-2">
            <strong>City:</strong> {{ myBusiness?.address?.city }}
          </div>
          <div class="col-md-6 mb-2">
            <strong>State:</strong> {{ myBusiness?.address?.state }}
          </div>
          <div class="col-md-6 mb-2">
            <strong>Country:</strong> {{ myBusiness?.address?.country }}
          </div>
          <div class="col-md-6 mb-2">
            <strong>PIN/Postal Code:</strong>
            {{ myBusiness?.address?.pinOrPostalCode }}
          </div>
        </div>
      </div>

      <!-- Full Address String -->
      <div class="mb-4">
        <h4 class="mb-3">Complete Address</h4>
        <hr />
        <p class="border rounded p-2 bg-light">
          {{ myBusiness?.address?.shopNo }}, {{ myBusiness?.address?.area }},
          <span *ngIf="myBusiness?.address?.road"
            >{{ myBusiness?.address?.road }},
          </span>
          <span *ngIf="myBusiness?.address?.landmark"
            >{{ myBusiness?.address?.landmark }},
          </span>
          {{ myBusiness?.address?.city }}, {{ myBusiness?.address?.state }},
          {{ myBusiness?.address?.country }} -
          {{ myBusiness?.address?.pinOrPostalCode }}
        </p>
      </div>
    </div>

    <ng-template #hasNoBusiness>
      <app-no-business></app-no-business>
    </ng-template>
  </div>
  <ng-template #spinner>
    <app-spinner></app-spinner>
  </ng-template>
</div>
